<!--================== DETAIL MODAL ==================-->

<div class="modal" ng-show="mixtapes.showDetail">

  <div class="details">
    <a ng-click="mixtapes.showDetail = false" class="close">CLOSE</a>
    <img ng-src="{{mixtapes.current.thumb_image}}" alt="{{mixtapes.current.title}}">
    <h2>{{mixtapes.current.artist}}</h2>
    <h2>{{mixtapes.current.title}}</h2>
    <p>Downloads: {{mixtapes.current.downloads | number : fractionSize}}</p>
    <p>Location: {{mixtapes.current.city}}, {{mixtapes.current.state}}</p>
    <p>Release Date: {{mixtapes.current.month}}-{{mixtapes.current.day}}-{{mixtapes.current.year}}</p>
    <h3>Score: {{mixtapes.current.score}} / 100</h3>

    <div class="similar">
      <div class="similar-cover" ng-repeat="similar in mixtapes.current.similar" ng-click="mixtapes.showModal(similar._id)"><img ng-src="{{similar.thumb_image}}"></div>
    </div>

    <div class="color-bar">
      <div class="color-spread" ng-repeat="color in mixtapes.current.colors" style="background: {{color.hexVal}}; width: {{color.percentage * 100}}%;"></div>
    </div>

  </div>

  <div class="modal-bg" ng-click="mixtapes.showDetail = false"></div>
</div>


<!--================== FILTER SIDEBAR ==================-->


<div class="filter">

  <ul class="filter-type">
    <li><a ng-click="mixtapes.artistFilter()">Artist</a></li>
    <li><a ng-click="mixtapes.stateFilter()">Location</a></li>
    <li><a ng-click="mixtapes.colorFilter()">Color</a></li>
  </ul>

  <!-- Search Artist -->

  <div class="artist-filter hidden">
    <div angucomplete-alt id="ex1"
        placeholder="Search for an artist..."
        pause="100"
        selected-object="mixtapes.selectedArtist"
        local-data="mixtapes.artistList"
        search-fields="name"
        title-field="name"
        minlength="1"
        input-class="form-artist"
        clear-selected="true"
        ng-enter="artistFilter = {artist: mixtapes.currArtist}; mixtapes.showArtist = true">
    </div>
  </div>

  <!-- State Filter -->


  <ul class="state-filter hidden" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    <li><a ng-click="stateFilter = {state: ''}">All</a></li>
    <li><a ng-click="stateFilter = {state: 'Alabama'}">Alabama</a></li>
    <li><a ng-click="stateFilter = {state: 'California'}">California</a></li>
    <li><a ng-click="stateFilter = {state: 'Connecticut'}">Connecticut</a></li>
    <li><a ng-click="stateFilter = {state: 'DMV'}">DMV</a></li>
    <li><a ng-click="stateFilter = {state: 'Florida'}">Florida</a></li>
    <li><a ng-click="stateFilter = {state: 'Georgia'}">Georgia</a></li>
    <li><a ng-click="stateFilter = {state: 'Illinois'}">Illinois</a></li>
    <li><a ng-click="stateFilter = {state: 'Indiana'}">Indiana</a></li>
    <li><a ng-click="stateFilter = {state: 'Louisiana'}">Louisiana</a></li>
    <li><a ng-click="stateFilter = {state: 'Maryland'}">Maryland</a></li>
    <li><a ng-click="stateFilter = {state: 'Massachusetts'}">Massachusetts</a></li>
    <li><a ng-click="stateFilter = {state: 'Michigan'}">Michigan</a></li>
    <li><a ng-click="stateFilter = {state: 'Mississippi'}">Mississippi</a></li>
    <li><a ng-click="stateFilter = {state: 'Missouri'}">Missouri</a></li>
    <li><a ng-click="stateFilter = {state: 'New Jersey'}">New Jersey</a></li>
    <li><a ng-click="stateFilter = {state: 'New York'}">New York</a></li>
    <li><a ng-click="stateFilter = {state: 'North Carolina'}">North Carolina</a></li>
    <li><a ng-click="stateFilter = {state: 'Ohio'}">Ohio</a></li>
    <li><a ng-click="stateFilter = {state: 'Ontario'}">Ontario</a></li>
    <li><a ng-click="stateFilter = {state: 'Pennsylvania'}">Pennsylvania</a></li>
    <li><a ng-click="stateFilter = {state: 'Tennessee'}">Tennessee</a></li>
    <li><a ng-click="stateFilter = {state: 'Texas'}">Texas</a></li>
    <li><a ng-click="stateFilter = {state: 'Virginia'}">Virginia</a></li>
  </ul>

  <!-- Color Filter -->

  <!-- <a ng-repeat="color in mixtapes.colorList" ng-click="colorFilter = {color: 'color.name'}">{{color.name}}</a> -->

  <ul class="color-filter hidden" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    <li><a ng-click="colorFilter = {color: ''}">All</a></li>
    <li><a ng-click="colorFilter = {color: 'black'}">Black</a></li>
    <li><a ng-click="colorFilter = {color: 'navy'}">Navy</a></li>
    <li><a ng-click="colorFilter = {color: 'blue'}">Blue</a></li>
    <li><a ng-click="colorFilter = {color: 'forest'}">Forest</a></li>
    <li><a ng-click="colorFilter = {color: 'teal'}">Teal</a></li>
    <li><a ng-click="colorFilter = {color: 'azure'}">Azure</a></li>
    <li><a ng-click="colorFilter = {color: 'green'}">Green</a></li>
    <li><a ng-click="colorFilter = {color: 'spring'}">Spring</a></li>
    <li><a ng-click="colorFilter = {color: 'cyan'}">Cyan</a></li>
    <li><a ng-click="colorFilter = {color: 'maroon'}">Maroon</a></li>
    <li><a ng-click="colorFilter = {color: 'purple'}">Purple</a></li>
    <li><a ng-click="colorFilter = {color: 'violet'}">Violet</a></li>
    <li><a ng-click="colorFilter = {color: 'olive'}">Olive</a></li>
    <li><a ng-click="colorFilter = {color: 'gray'}">Gray</a></li>
    <li><a ng-click="colorFilter = {color: 'cornflower'}">Cornflower</a></li>
    <li><a ng-click="colorFilter = {color: 'lime'}">Lime</a></li>
    <li><a ng-click="colorFilter = {color: 'neon'}">Neon</a></li>
    <li><a ng-click="colorFilter = {color: 'aquamarine'}">Aquamarine</a></li>
    <li><a ng-click="colorFilter = {color: 'red'}">Red</a></li>
    <li><a ng-click="colorFilter = {color: 'rose'}">Rose</a></li>
    <li><a ng-click="colorFilter = {color: 'magenta'}">Magenta</a></li>
    <li><a ng-click="colorFilter = {color: 'orange'}">Orange</a></li>
    <li><a ng-click="colorFilter = {color: 'salmon'}">Salmon</a></li>
    <li><a ng-click="colorFilter = {color: 'pink'}">Pink</a></li>
    <li><a ng-click="colorFilter = {color: 'yellow'}">Yellow</a></li>
    <li><a ng-click="colorFilter = {color: 'beige'}">Beige</a></li>
    <li><a ng-click="colorFilter = {color: 'white'}">White</a></li>
  </ul>

  <!-- <a ng-repeat="colorSingle in mixtapes.colorList" ng-click="colorFilter = {color: '{{colorSingle.color}}'}">{{colorSingle.color}}</a> -->

</div>



<!--================== GRID VIEW ==================-->

<divclass="current-color">
  <span ng-click="colorFilter = {color: ''}">{{colorFilter.color}}</span>
</div>

<divclass="current-state">
  <span ng-click="stateFilter = {state: ''}">{{stateFilter.state}}</span>
</div>

<div ng-show="mixtapes.showArtist" class="current-artist">
  <span ng-click="artistFilter = {artist: ''}; mixtapes.showArtist = false">{{mixtapes.currArtist}}</span>
</div>

<a href="#" ng-click="order = 'title'">Order by title</a>
<a href="#" ng-click="order = 'artist'">Order by artist</a>
<a href="#" ng-click="order = '-color'">Order by color</a>
<a href="#" ng-click="order = '-downloads'">Order by popularity</a>
<a href="#" ng-click="order = '-score'">Order by complexity</a>
<a href="#" ng-click="order = '-year'">Order by year</a>

<ul class="grid" masonry="true">

  <li class="grid-item" ng-repeat="mixtape in mixtapes.all | filter: artistFilter | filter: colorFilter | filter: stateFilter | orderBy: order" style="background: {{mixtape.analysis.clusters[1].hex[0]}};">
    <img img-fade-in-onload="{{mixtape.thumb_image}}" alt="{{mixtape.title}}" ng-click="mixtapes.showModal(mixtape._id)" src="">
  </li>

</ul>
