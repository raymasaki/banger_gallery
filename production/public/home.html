<!--================== DETAIL MODAL ==================-->

<div class="modal" ng-show="mixtapes.showDetail" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">

  <div class="details" ng-show="mixtapes.showDetail" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">

    <div class="details-top">
      <a ng-click="mixtapes.showDetail = false" class="close">X</a>

      <img ng-src="{{mixtapes.current.thumb_image}}" alt="{{mixtapes.current.title}}">
      <h2><a ng-click="artistFilter = {artist: mixtapes.current.artist}; mixtapes.showDetail = false; mixtapes.currArtist = mixtapes.current.artist;">{{mixtapes.current.artist}}</a></h2>
      <h2><a ng-href="{{mixtapes.current.link}}" target="_blank">{{mixtapes.current.title}}</a></h2>
      <p class="small">Downloads: {{mixtapes.current.downloads | number : fractionSize}}</p>
      <p class="small">Location: {{mixtapes.current.city}}, {{mixtapes.current.state}}</p>
      <p class="small">Release Date: {{mixtapes.current.month}}-{{mixtapes.current.day}}-{{mixtapes.current.year}}</p>
      <h3>Score: {{mixtapes.current.score}} / 100</h3>
    </div>

    <div class="color-bar">
      <h3 class="small">{{mixtapes.current.title}}'s Color Spread</h3>
      <div class="color-spread" ng-repeat="color in mixtapes.current.colors" style="background: {{color.hexVal}}; width: {{color.percentage * 100}}%"></div>
    </div>


    <div class="similar">
      <h3 class="small">Visually Related Covers</h3>
      <div class="similar-cover" ng-repeat="similar in mixtapes.current.similar">
        <img ng-src="{{similar.thumb_image}} "ng-click="mixtapes.showModal(similar._id)">

        <div class="color-bar-similar">
          <div class="color-spread-similar" ng-repeat="color in similar.colorAll" style="background: {{color.hex}}; width: {{color.percent * 100}}%;"></div>
        </div>

      </div>
    </div>

    <div class="complexity-graph">
      <h3 class="small">{{mixtapes.current.artist}}'s Cover Complexity Over Time</h3>

      <div class="graph">
        <div class="complexity-score" ng-repeat="mixtape in mixtapes.current.allByArtist" style="width: {{100 / mixtapes.current.allByArtist.length}}%; float: left; position: relative; height: 100%;">

          <div class="dot" style="background: {{mixtape.colorAll[0].hex}}; position: absolute; bottom: {{mixtape.score}}%"><span class="score small">{{mixtape.score}}</span></div>

          <span class="year small">{{mixtape.year}}</span>
        </div>
      </div>

    </div>

  </div>

  <div class="modal-bg" ng-click="mixtapes.showDetail = false"></div>
</div>


<!--================== FILTER SIDEBAR ==================-->


<div class="filter">

  <ul class="filter-type small">
    <li ng-click="mixtapes.artistFilter()">
      <span class="artist-label">Artist</span>
    </li>

    <li ng-click="mixtapes.stateFilter()">
      <span class="state-label" ng-hide="stateFilter.state">Location</span>
      <span class="filter-state">{{stateFilter.state}}</span>
    </li>

    <li ng-click="mixtapes.colorFilter()">
      <span class="color-label" ng-hide="colorFilter.color">Color</span>
      <span class="filter-color">{{colorFilter.color}}</span>
    </li>
  </ul>

  <div ng-click="mixtapes.sortList()" class="sort-button">
    <div class="sort-icon visible">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
        <path d="M0 0h24v24H0z" fill="none"/>
      </svg>
    </div>
    <ul class="sort hidden">
      <li class="small">Order By:</li>
      <li><a ng-click="order = '-downloads'">Popularity</a></li>
      <li><a ng-click="order = 'score'">Complexity</a></li>
      <li><a ng-click="order = 'title'">Title</a></li>
      <li><a ng-click="order = 'artist'">Artist</a></li>
      <li><a ng-click="order = '-color'">Color</a></li>
      <li><a ng-click="order = '-year'">Year</a></li>
    </ul>
  </div>

  <!-- Search Artist -->

  <div class="artist-filter hidden">
    <a class="clear-artist small" ng-click="artistFilter = {artist: ''}; mixtapes.artistFilter(); mixtapes.currArtist = ''">Clear</a>
    <div angucomplete-alt id="ex1"
        placeholder="Search for an artist..."
        pause="100"
        selected-object="mixtapes.selectedArtist"
        local-data="mixtapes.artistList"
        search-fields="name"
        title-field="name"
        minlength="1"
        input-class="form-artist"
        clear-selected="true"
        ng-enter="artistFilter = {artist: mixtapes.currArtist}; mixtapes.showArtist = true; mixtapes.artistFilter()">
    </div>
  </div>

  <!-- State Filter -->


  <ul class="state-filter hidden" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    <li><a ng-click="stateFilter = {state: ''}; mixtapes.stateFilter()">All</a></li>
    <li><a ng-click="stateFilter = {state: 'Alabama'}; mixtapes.stateFilter()">Alabama</a></li>
    <li><a ng-click="stateFilter = {state: 'California'}; mixtapes.stateFilter()">California</a></li>
    <li><a ng-click="stateFilter = {state: 'Connecticut'}; mixtapes.stateFilter()">Connecticut</a></li>
    <li><a ng-click="stateFilter = {state: 'DMV'}; mixtapes.stateFilter()">DMV</a></li>
    <li><a ng-click="stateFilter = {state: 'Florida'}; mixtapes.stateFilter()">Florida</a></li>
    <li><a ng-click="stateFilter = {state: 'Georgia'}; mixtapes.stateFilter()">Georgia</a></li>
    <li><a ng-click="stateFilter = {state: 'Illinois'}; mixtapes.stateFilter()">Illinois</a></li>
    <li><a ng-click="stateFilter = {state: 'Indiana'}; mixtapes.stateFilter()">Indiana</a></li>
    <li><a ng-click="stateFilter = {state: 'Louisiana'}; mixtapes.stateFilter()">Louisiana</a></li>
    <li><a ng-click="stateFilter = {state: 'Maryland'}; mixtapes.stateFilter()">Maryland</a></li>
    <li><a ng-click="stateFilter = {state: 'Massachusetts'}; mixtapes.stateFilter()">Massachusetts</a></li>
    <li><a ng-click="stateFilter = {state: 'Michigan'}; mixtapes.stateFilter()">Michigan</a></li>
    <li><a ng-click="stateFilter = {state: 'Mississippi'}; mixtapes.stateFilter()">Mississippi</a></li>
    <li><a ng-click="stateFilter = {state: 'Missouri'}; mixtapes.stateFilter()">Missouri</a></li>
    <li><a ng-click="stateFilter = {state: 'New Jersey'}; mixtapes.stateFilter()">New Jersey</a></li>
    <li><a ng-click="stateFilter = {state: 'New York'}; mixtapes.stateFilter()">New York</a></li>
    <li><a ng-click="stateFilter = {state: 'North Carolina'}; mixtapes.stateFilter()">North Carolina</a></li>
    <li><a ng-click="stateFilter = {state: 'Ohio'}; mixtapes.stateFilter()">Ohio</a></li>
    <li><a ng-click="stateFilter = {state: 'Ontario'}; mixtapes.stateFilter()">Ontario</a></li>
    <li><a ng-click="stateFilter = {state: 'Pennsylvania'}; mixtapes.stateFilter()">Pennsylvania</a></li>
    <li><a ng-click="stateFilter = {state: 'Tennessee'}; mixtapes.stateFilter()">Tennessee</a></li>
    <li><a ng-click="stateFilter = {state: 'Texas'}; mixtapes.stateFilter()">Texas</a></li>
    <li><a ng-click="stateFilter = {state: 'Virginia'}; mixtapes.stateFilter()">Virginia</a></li>
  </ul>

  <!-- Color Filter -->

  <ul class="color-filter hidden" onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';">
    <li><a ng-click="colorFilter = {color: ''}; mixtapes.colorFilter()">All</a></li>
    <li><a ng-click="colorFilter = {color: 'Black'}; mixtapes.colorFilter()">Black</a></li>
    <li><a ng-click="colorFilter = {color: 'Navy'}; mixtapes.colorFilter()">Navy</a></li>
    <li><a ng-click="colorFilter = {color: 'Blue'}; mixtapes.colorFilter()">Blue</a></li>
    <li><a ng-click="colorFilter = {color: 'Forest'}; mixtapes.colorFilter()">Forest</a></li>
    <li><a ng-click="colorFilter = {color: 'Teal'}; mixtapes.colorFilter()">Teal</a></li>
    <li><a ng-click="colorFilter = {color: 'Green'}; mixtapes.colorFilter()">Green</a></li>
    <li><a ng-click="colorFilter = {color: 'Maroon'}; mixtapes.colorFilter()">Maroon</a></li>
    <li><a ng-click="colorFilter = {color: 'Purple'}; mixtapes.colorFilter()">Purple</a></li>
    <li><a ng-click="colorFilter = {color: 'Olive'}; mixtapes.colorFilter()">Olive</a></li>
    <li><a ng-click="colorFilter = {color: 'Gray'}; mixtapes.colorFilter()">Gray</a></li>
    <li><a ng-click="colorFilter = {color: 'Aquamarine'}; mixtapes.colorFilter()">Aquamarine</a></li>
    <li><a ng-click="colorFilter = {color: 'Red'}; mixtapes.colorFilter()">Red</a></li>
    <li><a ng-click="colorFilter = {color: 'Orange'}; mixtapes.colorFilter()">Orange</a></li>
    <li><a ng-click="colorFilter = {color: 'Gold'}; mixtapes.colorFilter()">Gold</a></li>
    <li><a ng-click="colorFilter = {color: 'Salmon'}; mixtapes.colorFilter()">Salmon</a></li>
    <li><a ng-click="colorFilter = {color: 'Pink'}; mixtapes.colorFilter()">Pink</a></li>
    <li><a ng-click="colorFilter = {color: 'Yellow'}; mixtapes.colorFilter()">Yellow</a></li>
    <li><a ng-click="colorFilter = {color: 'Beige'}; mixtapes.colorFilter()">Beige</a></li>
    <li><a ng-click="colorFilter = {color: 'White'}; mixtapes.colorFilter()">White</a></li>
  </ul>

</div>



<!--================== GRID VIEW ==================-->

<div class="gradient"></div>

<div class="fade"></div>

<p class="logo-small" ng-hide="mixtapes.currArtist">BANGER GALLERY</p>

<span class="filter-artist" ng-show="mixtapes.currArtist">
  {{mixtapes.currArtist}}
  <a class="clear-artist" ng-click="artistFilter = {artist: ''}; mixtapes.currArtist = ''">X</a>
</span>

<a class="about-link small" ui-sref="about">What is this?</a>

<div class="grid-cover">
  <h1 class="logo-big">BANGER GALLERY</h1>
</div>
  <ul class="grid" masonry="true">

    <li class="grid-item" ng-repeat="mixtape in mixtapes.all | filter: artistFilter | filter: colorFilter | filter: stateFilter | orderBy: order" style="background: {{mixtape.analysis.clusters[1].hex[0]}};">
      <img img-fade-in-onload="{{mixtape.thumb_image}}" alt="{{mixtape.title}}" ng-click="mixtapes.showModal(mixtape._id)" src="">
    </li>

  </ul>
